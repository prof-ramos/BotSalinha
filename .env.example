# ================================================
# BotSalinha Environment Configuration
# ================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# --------------------------------
# Discord Configuration
# --------------------------------
# Get your token from https://discord.com/developers/applications
DISCORD_BOT_TOKEN=your_discord_bot_token_here
DISCORD_MESSAGE_CONTENT_INTENT=true
COMMAND_PREFIX=!

# Optional: ID do canal dedicado para interacao com IA
# Se configurado, qualquer mensagem neste canal disparara resposta automatica
# DISCORD__CANAL_IA_ID=123456789012345678

# --------------------------------
# OpenAI Configuration (Default Provider)
# --------------------------------
# Get your API key from https://platform.openai.com/
# NOTE: Model ID and provider are configured in config.yaml, NOT here.
OPENAI_API_KEY=your_openai_api_key_here

# --------------------------------
# Google AI Configuration (Optional Provider)
# --------------------------------
# Get your API key from https://ai.google.dev/
# To use Google, set model.provider to "google" in config.yaml.
GOOGLE_API_KEY=your_google_api_key_here

# --------------------------------
# Bot Configuration
# --------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=json

# ==========================================
# Configurações de Log Avançadas
# ==========================================

# Diretório base para logs (padrão: data/logs)
# Para configuração aninhada, usar o prefixo obrigatório BOTSALINHA_ e sublinhado duplo.
# Ex: preferir BOTSALINHA_LOG__DIR em vez do LOG_DIR ou LOG__DIR
BOTSALINHA_LOG__DIR=data/logs

# Tamanho máximo do arquivo antes da rotação (padrão: 10485760 = 10MB)
BOTSALINHA_LOG__MAX_BYTES=10485760

# Número máximo de arquivos de backup (padrão: 30)
BOTSALINHA_LOG__BACKUP_COUNT=30

# Nível mínimo para arquivo principal (padrão: INFO)
BOTSALINHA_LOG__LEVEL_FILE=INFO

# Nível para arquivo de erros (padrão: ERROR)
BOTSALINHA_LOG__LEVEL_ERROR_FILE=ERROR

# Sanitizar dados sensíveis (padrão: true)
BOTSALINHA_LOG__SANITIZE=true

# Sanitização parcial em logs DEBUG (padrão: true)
BOTSALINHA_LOG__SANITIZE_PARTIAL_DEBUG=true

# Incluir correlation_id automaticamente (padrão: true)
BOTSALINHA_LOG__CORRELATION_ID=true

# Habilitar escrita em arquivo (padrão: true)
BOTSALINHA_LOG__FILE_ENABLED=true

# Number of conversation runs to keep in context
HISTORY_RUNS=3

# Maximum age of conversations in days before cleanup
DATABASE_MAX_CONVERSATION_AGE_DAYS=30

# --------------------------------
# Rate Limiting
# --------------------------------
# Maximum requests per user within the time window
RATE_LIMIT_REQUESTS=10

# Time window in seconds for rate limiting
RATE_LIMIT_WINDOW_SECONDS=60

# --------------------------------
# Database Configuration
# --------------------------------
# SQLite database path (relative to project root or absolute)
DATABASE_URL=sqlite:///data/botsalinha.db

# --------------------------------
# Retry Configuration
# --------------------------------
# Maximum number of retries for API calls
MAX_RETRIES=3

# Initial delay between retries in seconds
RETRY_DELAY_SECONDS=1

# Maximum delay between retries in seconds
RETRY_MAX_DELAY_SECONDS=60

# Exponential backoff base
RETRY_EXPONENTIAL_BASE=2.0

# --------------------------------
# Application Settings
# --------------------------------
# Application environment: development, production
APP_ENV=development

# Debug mode
DEBUG=false


# --------------------------------
# RAG Vector Backend (Opcional)
# --------------------------------
# sqlite (padrao) ou qdrant
RAG__VECTOR_BACKEND=sqlite
RAG__QDRANT_URL=http://localhost:6333
RAG__QDRANT_COLLECTION=botsalinha_chunks
# RAG__QDRANT_API_KEY=your_qdrant_api_key_here
