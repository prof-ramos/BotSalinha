# ================================================
# BotSalinha Environment Configuration
# ================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# --------------------------------
# Discord Configuration
# --------------------------------
# Get your token from https://discord.com/developers/applications
BOTSALINHA_DISCORD__TOKEN=your_discord_bot_token_here
BOTSALINHA_DISCORD__MESSAGE_CONTENT_INTENT=true
BOTSALINHA_DISCORD__BOTSALINHA_DISCORD__COMMAND_PREFIX=!

# --------------------------------
# OpenAI Configuration (Default Provider)
# --------------------------------
# Get your API key from https://platform.openai.com/
# NOTE: Model ID and provider are configured in config.yaml, NOT here.
BOTSALINHA_OPENAI__API_KEY=your_openai_api_key_here

# --------------------------------
# Google AI Configuration (Optional Provider)
# --------------------------------
# Get your API key from https://ai.google.dev/
# To use Google, set model.provider to "google" in config.yaml.
BOTSALINHA_GOOGLE__API_KEY=your_google_api_key_here
# Default model for BotSalinha
BOTSALINHA_GOOGLE__MODEL_ID=gemini-2.5-flash-lite

# --------------------------------
# RAG Configuration
# --------------------------------
# Enable/disable Retrieval-Augmented Generation
BOTSALINHA_RAG__ENABLED=true

# Retrieval defaults
BOTSALINHA_RAG__TOP_K=5
BOTSALINHA_RAG__MIN_SIMILARITY=0.4
BOTSALINHA_RAG__MIN_SIMILARITY_FALLBACK_DELTA=0.08
BOTSALINHA_RAG__MIN_SIMILARITY_FLOOR=0.30
BOTSALINHA_RAG__MAX_CONTEXT_TOKENS=2000
BOTSALINHA_RAG__DOCUMENTS_PATH=data/documents
BOTSALINHA_RAG__EMBEDDING_MODEL=text-embedding-3-small
BOTSALINHA_RAG__CONFIDENCE_THRESHOLD=0.70

# Retrieval strategy
BOTSALINHA_RAG__RETRIEVAL_MODE=hybrid_lite
BOTSALINHA_RAG__RERANK_ENABLED=true
BOTSALINHA_RAG__RERANK_ALPHA=0.70
BOTSALINHA_RAG__RERANK_BETA=0.20
BOTSALINHA_RAG__RERANK_GAMMA=0.10
BOTSALINHA_RAG__RETRIEVAL_CANDIDATE_MULTIPLIER=12
BOTSALINHA_RAG__RETRIEVAL_CANDIDATE_MIN=60
BOTSALINHA_RAG__RETRIEVAL_CANDIDATE_CAP=240

# --------------------------------
# Bot Configuration
# --------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
BOTSALINHA_LOG_LEVEL=INFO

# Log format: json or text
BOTSALINHA_LOG_FORMAT=json

# Number of conversation runs to keep in context
BOTSALINHA_HISTORY__RUNS=3

# Maximum age of conversations in days before cleanup
BOTSALINHA_DATABASE__MAX_CONVERSATION_AGE_DAYS=30

# --------------------------------
# Rate Limiting
# --------------------------------
# Maximum requests per user within the time window
BOTSALINHA_RATE_LIMIT__REQUESTS=10

# Time window in seconds for rate limiting
BOTSALINHA_RATE_LIMIT__WINDOW_SECONDS=60

# --------------------------------
# Database Configuration
# --------------------------------
# SQLite database path (relative to project root or absolute)
BOTSALINHA_DATABASE__URL=sqlite:///data/botsalinha.db

# --------------------------------
# Retry Configuration
# --------------------------------
# Maximum number of retries for API calls
BOTSALINHA_RETRY__MAX_RETRIES=3

# Initial delay between retries in seconds
BOTSALINHA_RETRY__DELAY_SECONDS=1

# Maximum delay between retries in seconds
BOTSALINHA_RETRY__MAX_DELAY_SECONDS=60

# Exponential backoff base
BOTSALINHA_RETRY__EXPONENTIAL_BASE=2.0

# --------------------------------
# Application Settings
# --------------------------------
# Application environment: development, production
BOTSALINHA_APP_ENV=development

# Debug mode
BOTSALINHA_DEBUG=false

# --------------------------------
# Convex Backend (Optional)
# --------------------------------
# Enable Convex as backend (set to true to use Convex instead of SQLite)
BOTSALINHA_CONVEX__ENABLED=false

# Convex deployment URL
BOTSALINHA_CONVEX__URL=https://your-project.convex.cloud

# Convex deploy key (for authentication)
BOTSALINHA_CONVEX__DEPLOY_KEY=prod:your-project|your-deploy-key
